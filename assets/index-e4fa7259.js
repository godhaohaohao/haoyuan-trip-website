import{c as j,d as J,q as K,b as O,aE as Q,s as W,a as h,n as A,m as B,U as Z,t as $,_ as ee,f as te,I as F,a6 as X,p as ae,w as oe,an as se}from"./index-ba1e3a98.js";import{u as le,b as ne,d as i}from"./axios-36aa4f50.js";const[ie,m]=j("rate");function re(e,l,n,c){return e>=l?{status:"full",value:1}:e+.5>=l&&n&&!c?{status:"half",value:.5}:e+1>=l&&n&&c?{status:"half",value:Math.round((e-l+1)*1e10)/1e10}:{status:"void",value:0}}const ce={size:A,icon:B("star"),color:String,count:Z(5),gutter:A,readonly:Boolean,disabled:Boolean,voidIcon:B("star-o"),allowHalf:Boolean,voidColor:String,touchable:$,iconPrefix:String,modelValue:ee(0),disabledColor:String};var ue=J({name:ie,props:ce,emits:["change","update:modelValue"],setup(e,{emit:l}){const n=le(),[c,P]=ne(),g=K(),I=()=>e.readonly||e.disabled||!e.touchable,q=O(()=>Array(+e.count).fill("").map((a,t)=>re(e.modelValue,t+1,e.allowHalf,e.readonly)));let s,u,b=Number.MAX_SAFE_INTEGER,p=Number.MIN_SAFE_INTEGER;const w=()=>{u=X(g);const a=c.value.map(X);s=[],a.forEach((t,o)=>{b=Math.min(t.top,b),p=Math.max(t.top,p),e.allowHalf?s.push({score:o+.5,left:t.left,top:t.top,height:t.height},{score:o+1,left:t.left+t.width/2,top:t.top,height:t.height}):s.push({score:o+1,left:t.left,top:t.top,height:t.height})})},y=(a,t)=>{for(let o=s.length-1;o>0;o--)if(t>=u.top&&t<=u.bottom){if(a>s[o].left&&t>=s[o].top&&t<=s[o].top+s[o].height)return s[o].score}else{const d=t<u.top?b:p;if(a>s[o].left&&s[o].top===d)return s[o].score}return e.allowHalf?.5:1},C=a=>{!e.disabled&&!e.readonly&&a!==e.modelValue&&(l("update:modelValue",a),l("change",a))},D=a=>{I()||(n.start(a),w())},G=a=>{if(!I()&&(n.move(a),n.isHorizontal())){const{clientX:t,clientY:o}=a.touches[0];ae(a),C(y(t,o))}},U=(a,t)=>{const{icon:o,size:d,color:E,count:N,gutter:T,voidIcon:V,disabled:r,voidColor:H,allowHalf:k,iconPrefix:M,disabledColor:_}=e,v=t+1,R=a.status==="full",f=a.status==="void",Y=k&&a.value>0&&a.value<1;let z;T&&v!==+N&&(z={paddingRight:te(T)});const x=L=>{w(),C(k?y(L.clientX,L.clientY):v)};return h("div",{key:t,ref:P(t),role:"radio",style:z,class:m("item"),tabindex:r?void 0:0,"aria-setsize":N,"aria-posinset":v,"aria-checked":!f,onClick:x},[h(F,{size:d,name:R?o:V,class:m("icon",{disabled:r,full:R}),color:r?_:R?E:H,classPrefix:M},null),Y&&h(F,{size:d,style:{width:a.value+"em"},name:f?V:o,class:m("icon",["half",{disabled:r,full:!f}]),color:r?_:f?H:E,classPrefix:M},null)])};return Q(()=>e.modelValue),W("touchmove",G,{target:g}),()=>h("div",{ref:g,role:"radiogroup",class:m({readonly:e.readonly,disabled:e.disabled}),tabindex:e.disabled?void 0:0,"aria-disabled":e.disabled,"aria-readonly":e.readonly,onTouchstartPassive:D},[q.value.map(U)])}});const he=oe(ue),S=se();i.interceptors.request.use(e=>(S.isLoading=!0,e),e=>e);i.interceptors.response.use(e=>(S.isLoading=!1,e),e=>(S.isLoading=!1,e));function me(){return i.get("http://codercba.com:1888/api/home/hotSuggests")}function ge(){return i.get("http://codercba.com:1888/api/home/categories")}function be(e){return i.get("http://codercba.com:1888/api/home/houselist",{params:{page:e}})}function pe(e){return i.get("http://codercba.com:1888/api/detail/infos",{params:{houseId:e}})}export{he as R,ge as a,be as b,pe as c,me as g};
